{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: 'ExcelTransferTable',\n  components: {},\n  data() {\n    return {\n      tableData: [],\n      // 表格里面的数据\n      Id: '',\n      brand: \"\",\n      res: '',\n      num: '',\n      proname: this.$route.query.projectname,\n      desversion: this.$route.query.designversion\n    };\n  },\n  mounted() {\n    this.getresult();\n  },\n  methods: {\n    getresult() {\n      var _this = this;\n      console.log(_this.desversion);\n      console.log(_this.proname);\n      axios.get('http://localhost:8085/sscm/getres', {\n        params: {\n          pname: _this.proname,\n          dname: _this.desversion\n        }\n      }).then(function (response) {\n        console.log(response);\n        console.log(response.data);\n        let tres = response.data;\n        _this.res = \"状态空间为：\" + tres[\"statespace\"];\n        for (var k in tres) {\n          if (k == \"statespace\") {\n            continue;\n          } else {\n            let str = \"\";\n            if (tres[k] == \"Yes\") {\n              str = \"true\";\n            } else {\n              str = \"false\";\n            }\n            let obj = {\n              Id: _this.tableData.length + 1,\n              p: k,\n              state: str\n            };\n            _this.tableData.push(obj);\n          }\n        }\n      }, function (err) {\n        console.log(err);\n      });\n    },\n    computeState() {\n      axios.post('http://localhost:8085/sscm/Statenum').then(response => {\n        console.log(response.data);\n        this.res = response.data;\n        console.log(\"num:\" + response.data);\n      }, function (err) {\n        console.log(err);\n      });\n    },\n    check() {\n      if (!this.Id) return this.$message.warning('请先选择一条性质进行验证');\n      this.tableData.forEach(item => {\n        if (item.Id == this.Id) {\n          let param = {\n            \"data\": item.p\n          };\n          axios.post('http://localhost:8085/sscm/Check', item.p).then(response => {\n            console.log(response.data);\n            if (response.data == \"yes\") {\n              this.computeState();\n              item.state = \"true\";\n              //this.res = \"满足该性质，状态空间为：1024\"\n            } else {\n              item.state = \"false\";\n              this.res = \"不满足该性质\";\n            }\n          }, function (err) {\n            console.log(err);\n          });\n        }\n      });\n    },\n    del() {\n      // 判断有没有选中一行数据\n      if (!this.Id) return this.$message.warning('请先选择一条性质进行移除');\n      this.$confirm('您确定要删除当前选择的性质吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        //定义一个新的数组\n        const tempArr = [];\n        //遍历table表的数组，如果遍历到的table中的id不等于选中的那一行id，那么将数\n        //据push到新的数组里面，也就是说，新的数组里面没有选中的那一行的值\n        this.tableData.forEach(item => {\n          if (item.Id < this.Id) {\n            tempArr.push(item);\n          } else if (item.Id > this.Id) {\n            item.Id--;\n            tempArr.push(item);\n          } else {}\n        });\n        //将新的数组赋值给table表数组，此时选中那一行删除成功\n        this.tableData = tempArr;\n        //将选中的一行id置空。\n        this.Id = '';\n      });\n    },\n    //row是选中这一行的全部数据，如果table的数组是从后端请求回来的，可以将id替换成每一行唯一的那个标志，比如序号等等。\n    chooseItem(row) {\n      this.Id = row.Id;\n      console.log(this.Id);\n    },\n    add() {\n      console.log(this.brand);\n      if (this.brand != \"\") {\n        //如果输入的值不为空\n        let obj = {\n          Id: this.tableData.length + 1,\n          p: this.brand,\n          state: \"\"\n        };\n        this.tableData.push(obj);\n        let param = {\n          \"data\": this.brand\n        };\n        axios.post('http://localhost:8085/sscm/addquery', param).then(function (response) {\n          console.log(response.data);\n        }, function (err) {\n          console.log(err);\n        });\n        this.brand = \"\";\n      } else {\n        let obj = {\n          Id: this.tableData.length + 1,\n          p: \"\",\n          state: \"\"\n        };\n        this.tableData.push(obj);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","name","components","data","tableData","Id","brand","res","num","proname","$route","query","projectname","desversion","designversion","mounted","getresult","methods","_this","console","log","get","params","pname","dname","then","response","tres","k","str","obj","length","p","state","push","err","computeState","post","check","$message","warning","forEach","item","param","del","$confirm","confirmButtonText","cancelButtonText","type","tempArr","chooseItem","row","add"],"sourceRoot":"","sources":["C:\\Users\\DELL\\Desktop\\desver\\TA-frontend\\src\\views\\Checkproperties.vue"],"sourcesContent":["<template>\r\n  <div class=\"tt\">\r\n    <el-table class=\"t\"\r\n              :row-style=\"{height:'40px'}\" max-height=\"250\" style=\"font-size: 15px\"\r\n              :data=\"tableData\"\r\n              border\r\n              fit\r\n              highlight-current-row\r\n              height=\"240\"\r\n              @cell-click=\"chooseItem\"\r\n    >\r\n      <el-table-column\r\n          property=\"Id\"\r\n          label=\"序号\"\r\n          width=\"60\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          property=\"p\"\r\n          label=\"性质\"\r\n          width=\"890\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          property=\"state\"\r\n          label=\"状态\"\r\n          width=\"60\">\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n\r\n    <div class=\"n1\">\r\n      <p>性质撰写</p>\r\n    </div>\r\n    <div class=\"in\">\r\n      <textarea v-model=\"brand\" cols=\"140\" rows=\"7\"></textarea>\r\n    </div>\r\n    <div class=\"n2\">\r\n      <p>验证结果</p>\r\n    </div>\r\n    <div class=\"res\">\r\n      <textarea v-model=\"res\" cols=\"140\" rows=\"8\"></textarea>\r\n    </div>\r\n\r\n    <el-button class=\"b1b\" @click=\"check()\">开始验证</el-button>\r\n    <el-button class=\"b2b\" @click=\"add\">添加</el-button>\r\n    <el-button class=\"b3b\" @click=\"del()\">删除</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: 'ExcelTransferTable',\r\n  components: { },\r\n\r\n  data() {\r\n    return {\r\n      tableData: [\r\n\r\n      ], // 表格里面的数据\r\n      Id: '',\r\n      brand:\"\",\r\n      res: '',\r\n      num:'',\r\n      proname: this.$route.query.projectname,\r\n      desversion: this.$route.query.designversion,\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getresult()\r\n  },\r\n\r\n  methods: {\r\n\r\n    getresult() {\r\n      var _this = this;\r\n      console.log(_this.desversion);\r\n      console.log(_this.proname);\r\n\r\n      axios.get('http://localhost:8085/sscm/getres',{\r\n        params: {\r\n          pname: _this.proname,\r\n          dname: _this.desversion\r\n        }\r\n      }).then(function (response) {\r\n        console.log(response);\r\n        console.log(response.data);\r\n\r\n        let tres = response.data;\r\n        _this.res = \"状态空间为：\"+tres[\"statespace\"];\r\n\r\n        for(var k in tres){\r\n          if(k == \"statespace\"){\r\n            continue;\r\n          }\r\n          else{\r\n            let str = \"\";\r\n            if(tres[k] == \"Yes\"){\r\n              str = \"true\";\r\n            }\r\n            else{\r\n              str = \"false\";\r\n            }\r\n            let obj = {\r\n              Id: _this.tableData.length+1,\r\n              p: k,\r\n              state: str,\r\n            };\r\n            _this.tableData.push(obj);\r\n          }\r\n        }\r\n\r\n      }, function (err) {\r\n        console.log(err)\r\n      });\r\n\r\n\r\n    },\r\n\r\n    computeState(){\r\n      axios.post('http://localhost:8085/sscm/Statenum').then(response => {\r\n        console.log(response.data);\r\n        this.res = response.data;\r\n        console.log(\"num:\"+response.data);\r\n      }, function (err) {\r\n        console.log(err)\r\n      });\r\n    },\r\n\r\n    check(){\r\n      if (!this.Id) return this.$message.warning('请先选择一条性质进行验证')\r\n      this.tableData.forEach(item =>{\r\n        if(item.Id == this.Id){\r\n          let param = {\"data\": item.p};\r\n          axios.post('http://localhost:8085/sscm/Check', item.p).then(response => {\r\n            console.log(response.data);\r\n            if(response.data == \"yes\"){\r\n              this.computeState();\r\n              item.state = \"true\";\r\n              //this.res = \"满足该性质，状态空间为：1024\"\r\n            }\r\n            else{\r\n              item.state = \"false\";\r\n              this.res = \"不满足该性质\";\r\n            }\r\n          }, function (err) {\r\n            console.log(err)\r\n          });\r\n\r\n        }\r\n      })\r\n    },\r\n\r\n    del() {\r\n      // 判断有没有选中一行数据\r\n      if (!this.Id) return this.$message.warning('请先选择一条性质进行移除')\r\n      this.$confirm('您确定要删除当前选择的性质吗?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        //定义一个新的数组\r\n        const tempArr = []\r\n        //遍历table表的数组，如果遍历到的table中的id不等于选中的那一行id，那么将数\r\n        //据push到新的数组里面，也就是说，新的数组里面没有选中的那一行的值\r\n        this.tableData.forEach(item => {\r\n          if (item.Id < this.Id) {\r\n            tempArr.push(item)\r\n          }\r\n          else if(item.Id > this.Id){\r\n            item.Id--;\r\n            tempArr.push(item)\r\n          }\r\n          else{\r\n\r\n          }\r\n        })\r\n//将新的数组赋值给table表数组，此时选中那一行删除成功\r\n        this.tableData = tempArr\r\n//将选中的一行id置空。\r\n        this.Id = ''\r\n      })\r\n    },\r\n//row是选中这一行的全部数据，如果table的数组是从后端请求回来的，可以将id替换成每一行唯一的那个标志，比如序号等等。\r\n    chooseItem(row) {\r\n      this.Id = row.Id;\r\n      console.log(this.Id);\r\n    },\r\n    add() {\r\n      console.log(this.brand);\r\n      if (this.brand != \"\") {  //如果输入的值不为空\r\n        let obj = {\r\n          Id:this.tableData.length+1,\r\n          p: this.brand,\r\n          state:\"\",\r\n        };\r\n        this.tableData.push(obj);\r\n        let param = {\"data\": this.brand};\r\n        axios.post('http://localhost:8085/sscm/addquery', param).then(function(response) {\r\n          console.log(response.data)\r\n        }, function(err){\r\n          console.log(err)\r\n        });\r\n\r\n        this.brand = \"\";\r\n      } else {\r\n        let obj = {\r\n          Id:this.tableData.length+1,\r\n          p: \"\",\r\n          state:\"\",\r\n        };\r\n        this.tableData.push(obj);\r\n      }\r\n\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tt{\r\n  position: absolute;\r\n  top: 50px;\r\n}\r\n\r\n.t{\r\n  height: 250px;\r\n}\r\n\r\n.in{\r\n  position: absolute;\r\n  top: 280px;\r\n  width: 100px;\r\n}\r\n\r\n.res{\r\n  position: absolute;\r\n  top: 420px;\r\n  width: 100px;\r\n}\r\n\r\n.n1{\r\n  position: absolute;\r\n  top: 240px;\r\n}\r\n\r\n.n2{\r\n  position: absolute;\r\n  top: 380px;\r\n}\r\n\r\n.b1b{\r\n  position: absolute;\r\n  left: 1050px;\r\n  top: 50px;\r\n  width: 100px;\r\n}\r\n\r\n.b2b{\r\n  position: absolute;\r\n  left: 1040px;\r\n  top: 100px;\r\n  width: 100px;\r\n}\r\n.b3b{\r\n  position: absolute;\r\n  left: 1040px;\r\n  top: 150px;\r\n  width: 100px;\r\n}\r\n\r\n.el-table td {\r\n  border-bottom: none;\r\n}\r\n.tableStyle::before{\r\n  width: 0;\r\n}\r\n.el-table{\r\n  border: 1px solid #ccc;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}