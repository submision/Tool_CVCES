{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/logo3.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-57b2127a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"topbar\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  style: {\n    \"height\": \"60px\"\n  }\n}, null, -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"dialog-footer\",\n  style: {\n    \"text-align\": \"center\",\n    \"padding-top\": \"20px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\"    <img alt=\\\"logo\\\" src=\\\"../assets/logo1.png\\\" class=\\\"img1\\\" height=\\\"48.06\\\" width=\\\"69.78\\\">\"), _hoisted_2, _createCommentVNode(\"    <el-button class=\\\"b3\\\" @click=\\\"confi()\\\">Configure Project Path</el-button>\"), _createCommentVNode(\"    <el-button class=\\\"b3\\\" @click=\\\"EEL()\\\">External entity model libraries</el-button>\"), _createVNode(_component_el_button, {\n    class: \"b3\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.showEELs())\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"External entity model libraries\")]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_dialog, {\n    title: \"External entity model libraries\",\n    modelValue: $data.isListVisible,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.isListVisible = $event),\n    width: \"500px\"\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n      onClick: _cache[1] || (_cache[1] = $event => $data.isListVisible = false)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Cancel\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[2] || (_cache[2] = $event => $data.isListVisible = false)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"OK\")]),\n      _: 1 /* STABLE */\n    })])]),\n\n    default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_el_table, {\n      ref: \"multipleTable\",\n      data: $data.EELList,\n      onSelectionChange: $options.handleSelectionChange\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        type: \"selection\",\n        width: \"55\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"Ename\",\n        label: \"EEML Name\",\n        \"show-overflow-tooltip\": \"\"\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\", \"onSelectionChange\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createCommentVNode(\"    <input ref=\\\"uploadpro\\\" className=\\\"data-upload\\\" type=\\\"file\\\" @change=\\\"uploadPro($event)\\\" style=\\\"display: none\\\"/>\"), _createElementVNode(\"input\", {\n    ref: \"uploadDes\",\n    type: \"file\",\n    onChange: _cache[4] || (_cache[4] = $event => $options.UploadDes($event)),\n    webkitdirectory: \"\",\n    style: {\n      \"display\": \"none\"\n    }\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), _createVNode(_component_el_button, {\n    class: \"b4\",\n    onClick: _cache[5] || (_cache[5] = $event => $options.openpro())\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Open\")]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"input\", {\n    type: \"file\",\n    ref: \"saveres\",\n    onChange: _cache[6] || (_cache[6] = $event => $options.triggerFile($event)),\n    style: {\n      \"display\": \"none\"\n    },\n    webkitdirectory: \"\"\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), _createVNode(_component_el_button, {\n    class: \"b5\",\n    onClick: _cache[7] || (_cache[7] = $event => $options.save())\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Save\")]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"mappings":";OAGSA,UAAyB;;;EAF3BC,KAAK,EAAC;AAAQ;gEAEjBC,oBAAoD;EAA/CC,GAAyB,EAAzBH,UAAyB;EAACI,KAAoB,EAApB;IAAA;EAAA;;;EAiBtBH,KAAK,EAAC,eAAe;EAACG,KAA4C,EAA5C;IAAA;IAAA;EAAA;;;;;;;uBAnBjCC,oBAoCM,OApCNC,UAoCM,GAnCRC,yHAA+F,EAC3FC,UAAoD,EAGxDD,wGAAoF,EAEpFA,+GAA2F,EAEvFE,aAAqFC;IAA1ET,KAAK,EAAC,IAAI;IAAEU,OAAK,sCAAEC,iBAAQ;;sBAAI,MAA+B,kBAA/B,iCAA+B;;MAEzEH,aAaYI;IAbDC,KAAK,EAAC,iCAAiC;gBAAUC,mBAAa;+DAAbA,mBAAa;IAAEC,KAAK,EAAC;;IAO9DC,MAAM,WACrB,MAGM,CAHNf,oBAGM,OAHNgB,UAGM,GAFJT,aAA4DC;MAAhDC,OAAK,sCAAEI,mBAAa;;wBAAU,MAAM,kBAAN,QAAM;;QAChDN,aAAuEC;MAA5DS,IAAI,EAAC,SAAS;MAAER,OAAK,sCAAEI,mBAAa;;wBAAU,MAAE,kBAAF,IAAE;;;;sBAT/D,MAKM,CALNb,oBAKM,cAJJO,aAGWW;MAHDC,GAAG,EAAC,eAAe;MAAEC,IAAI,EAAEP,aAAO;MAAGQ,iBAAgB,EAAEX;;wBAC/D,MAA+C,CAA/CH,aAA+Ce;QAA9BL,IAAI,EAAC,WAAW;QAACH,KAAK,EAAC;UACxCP,aAAuEe;QAAtDC,IAAI,EAAC,OAAO;QAACC,KAAK,EAAC,WAAW;QAAC,uBAAqB,EAArB;;;;;qCAYtDnB,mJAAyH,EACzHL,oBAAsG;IAA/FmB,GAAG,EAAC,WAAW;IAACF,IAAI,EAAC,MAAM;IAAEQ,QAAM,sCAAEf,kBAAS,CAACgB,MAAM;IAAGC,eAAe,EAAf,EAAe;IAACzB,KAAqB,EAArB;MAAA;IAAA;kDAC/EK,aAAyDC;IAA9CT,KAAK,EAAC,IAAI;IAAEU,OAAK,sCAAEC,gBAAO;;sBAAI,MAAI,kBAAJ,MAAI;;MAE7CV,oBAAsG;IAA/FiB,IAAI,EAAC,MAAM;IAACE,GAAG,EAAC,SAAS;IAAEM,QAAM,sCAAEf,oBAAW,CAACgB,MAAM;IAAGxB,KAAqB,EAArB;MAAA;IAAA,CAAqB;IAACyB,eAAe,EAAf;kDACrFpB,aAAsDC;IAA3CT,KAAK,EAAC,IAAI;IAAEU,OAAK,sCAAEC,aAAI;;sBAAI,MAAI,kBAAJ,MAAI","names":["_imports_0","class","_createElementVNode","src","style","_createElementBlock","_hoisted_1","_createCommentVNode","_hoisted_2","_createVNode","_component_el_button","onClick","$options","_component_el_dialog","title","$data","width","footer","_hoisted_3","type","_component_el_table","ref","data","onSelectionChange","_component_el_table_column","prop","label","onChange","$event","webkitdirectory"],"sourceRoot":"","sources":["C:\\Users\\yang\\Desktop\\CVCES\\TA-frontend\\src\\components\\tou.vue"],"sourcesContent":["<template>\n  <div class=\"topbar\">\n<!--    <img alt=\"logo\" src=\"../assets/logo1.png\" class=\"img1\" height=\"48.06\" width=\"69.78\">-->\n    <img src=\"../assets/logo3.png\" style=\"height: 60px\">\n\n\n<!--    <el-button class=\"b3\" @click=\"confi()\">Configure Project Path</el-button>-->\n\n<!--    <el-button class=\"b3\" @click=\"EEL()\">External entity model libraries</el-button>-->\n\n    <el-button class=\"b3\" @click=\"showEELs()\">External entity model libraries</el-button>\n\n    <el-dialog title=\"External entity model libraries\" v-model=\"isListVisible\" width=\"500px\">\n      <div>\n        <el-table ref=\"multipleTable\" :data=\"EELList\" @selection-change=\"handleSelectionChange\">\n          <el-table-column type=\"selection\" width=\"55\" />\n          <el-table-column prop=\"Ename\" label=\"EEML Name\" show-overflow-tooltip/>\n        </el-table>\n      </div>\n      <template v-slot:footer>\n        <div class=\"dialog-footer\" style=\"text-align:center;padding-top: 20px;\">\n          <el-button @click=\"isListVisible = false\">Cancel</el-button>\n          <el-button type=\"primary\" @click=\"isListVisible = false\">OK</el-button>\n        </div>\n      </template>\n    </el-dialog>\n\n\n    <!--    <input ref=\"uploadpro\" className=\"data-upload\" type=\"file\" @change=\"uploadPro($event)\" style=\"display: none\"/>-->\n    <input ref=\"uploadDes\" type=\"file\" @change=\"UploadDes($event)\" webkitdirectory style=\"display: none\"/>\n    <el-button class=\"b4\" @click=\"openpro()\">Open</el-button>\n\n    <input type='file' ref=\"saveres\" @change=\"triggerFile($event)\" style=\"display: none\" webkitdirectory/>\n    <el-button class=\"b5\" @click=\"save()\">Save</el-button>\n\n\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"tou\",\n  components: {\n\n  },\n\n\n  data() {\n    return {\n\n      cont:'External entity model libraries',\n\n      // 控制列表显示的变量\n      isListVisible: false,\n\n      multipleSelection: [],\n\n      EELList: [\n        \n      ]\n\n    }\n  },\n\n  methods: {\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n\n    toggleSelection(rows) {\n      if (rows) {\n        rows.forEach(row => {\n          this.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n\n    showEELs() {\n      let da = \"EEML\";\n\n      var _this=this;\n      let sr = \"\";\n\n      axios.post('http://localhost:8077/sscm/eeml', da).then(function (response) {\n        //console.log(response.data)\n\n        _this.cont=\"\";\n        let dat = response.data;\n        //this.cont=\" \";\n\n        for(var ss in dat){\n          let str = dat[ss];\n          //console.log(str);\n          //_this.cont += str+\", \";\n\n          _this.EELList.push({Ename: str})\n\n        }\n\n        console.log(_this.cont)\n\n      });\n\n\n      this.isListVisible = true;\n    },\n\n\n    // 隐藏文件列表的方法\n    hideEELs() {\n      this.isListVisible = false;\n    },\n\n    EEL() {\n      let da = \"EEML\";\n\n      var _this=this;\n      let sr = \"\";\n\n      axios.post('http://localhost:8077/sscm/eeml', da).then(function (response) {\n        //console.log(response.data)\n\n        _this.cont=\"\";\n        let dat = response.data;\n        //this.cont=\" \";\n\n        for(var ss in dat){\n          let str = dat[ss];\n          //console.log(str);\n          _this.cont += str+\", \";\n        }\n\n        console.log(_this.cont)\n\n      });\n\n\n      this.$alert( _this.cont , 'External entity model libraries', {\n        confirmButtonText: 'Yes',\n        // callback: action => {\n        //   this.$message({\n        //     type: 'info',\n        //     message: `action: ${ action }`\n        //   });\n        // }\n      });\n\n\n    },\n\n    goTo(path) {\n      this.$router.replace(path);\n    },\n    jumpp() {\n      window.location.href =\n          \"http://localhost\"\n    },\n\n    UploadDes(input) {\n      var _this = this;\n      let file = input.target.files;\n      console.log(file);\n      var relativePath = file[0].webkitRelativePath;\n      var folderName = relativePath.split(\"/\")[0];\n      console.log(folderName);\n      let str = {\"name\":folderName};\n      axios.post('http://localhost:8077/sscm/uploadpp',str).then(response => {\n        str = response.data;\n\n        this.$message({\n          message: \"Open success！\",\n          type: 'success'\n        })\n      });\n    },\n\n    confi() {\n      var _this = this;\n      this.$prompt('Please enter the configuration project path', 'Saved', {\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'Cancel',\n      }).then(({ value }) => {\n        let data={\n          \"path\" : value\n        }\n        axios.post('http://localhost:8077/sscm/config', data).then(function (response){\n          console.log(response.data)\n\n          if(response.data==0){\n            _this.$message({\n              message: 'Fail！',\n              type: 'error'\n            });\n          }\n          else{\n            _this.$message({\n              message: 'Successes！',\n              type: 'success'\n            });\n          }\n        });\n\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: 'Cancel!'\n        });\n      });\n    },\n\n    uploadPro1(input) {\n      //支持chrome IE10\n      if (window.FileReader) {\n        var file = input.target.files[0];\n        var reader = new FileReader();\n        reader.onload=((event)=>{\n          //显示文件\n          //this.input_text=event.target.result;\n          console.log(event.target.result);\n          axios.post('http://localhost:8077/sscm/uploadpro',event.target.result).then(function (response){\n            console.log(response)\n          });\n        })\n        console.info(file)\n        console.info(reader);\n        reader.readAsText(file);\n\n        this.$message({\n          message: '项目打开成功！',\n          type: 'success'\n        });\n      }\n      else {\n        alert(\"FileReader Not supported by your browser!\");\n      }\n    },\n\n    openpro(){\n      this.$refs.uploadDes.click();\n    },\n\n    triggerFile(event) {\n      var _this = this;\n      let file = event.target.files[0];\n      console.log(file.webkitRelativePath);\n      let name = file.webkitRelativePath;\n\n      axios.post('http://localhost:8077/sscm/saveresult',name).then(function (response){\n        console.log(response.data)\n\n        if(response.data==0){\n          _this.$message({\n            message: '保存失败！',\n            type: 'error'\n          });\n        }\n        else{\n          _this.$message({\n            message: '保存成功！',\n            type: 'success'\n          });\n        }\n      });\n\n      event.target.value = '';\n\n    },\n\n    save(){\n      this.$refs.saveres.click();\n    },\n\n  }\n\n}\n</script>\n\n<style scoped>\n.topbar{\n  background-color: #1874CD;\n}\n\n.file-list {\n  position: absolute;\n  background-color: white;\n  border: 1px solid #ccc;\n  padding: 10px;\n  /* 其他样式根据需要添加 */\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  margin: 5px 0;\n}\n\n.box1{\n  font-size: 30px;\n  background-color: #1874CD;\n  /*text-align: center;  /*水平居中*/\n  text-indent: 30px;\n  line-height: 60px; /*垂直居中 值为heigth的值*/\n  color: #fff;\n}\n\n.b2{\n  position: absolute;\n  left: 650px;\n  top: 8px;\n  border-style: none;\n  height: 60px;\n  width: 350px;\n  color: white;\n  font-size: 22px;\n  background-color: #1874CD;\n}\n\n.b3{\n  position: absolute;\n  left: 450px;\n  top: 8px;\n  border-style: none;\n  height: 60px;\n  width: 350px;\n  color: white;\n  font-size: 22px;\n  background-color: #1874CD;\n}\n\n.b4{\n  position: absolute;\n  left: 250px;\n  top: 8px;\n  border-style: none;\n  height: 60px;\n  width: 100px;\n  color: white;\n  font-size: 22px;\n  background-color: #1874CD;\n}\n\n.b5{\n  position: absolute;\n  left: 350px;\n  top: 8px;\n  border-style: none;\n  height: 60px;\n  width: 100px;\n  color: white;\n  font-size: 22px;\n  background-color: #1874CD;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}