{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-16a08b71\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"tt\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"n1\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, \"性质撰写\")], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"in\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"n2\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, \"验证结果\")], -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"res\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_table, {\n    class: \"t\",\n    \"row-style\": {\n      height: '40px'\n    },\n    \"max-height\": \"250\",\n    style: {\n      \"font-size\": \"15px\"\n    },\n    data: $data.tableData,\n    border: \"\",\n    fit: \"\",\n    \"highlight-current-row\": \"\",\n    height: \"240\",\n    onCellClick: $options.chooseItem\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      property: \"Id\",\n      label: \"序号\",\n      width: \"60\"\n    }), _createVNode(_component_el_table_column, {\n      property: \"p\",\n      label: \"性质\",\n      width: \"890\"\n    }), _createVNode(_component_el_table_column, {\n      property: \"state\",\n      label: \"状态\",\n      width: \"60\"\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\", \"onCellClick\"]), _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.brand = $event),\n    cols: \"140\",\n    rows: \"7\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.brand]])]), _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.res = $event),\n    cols: \"140\",\n    rows: \"8\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.res]])]), _createVNode(_component_el_button, {\n    class: \"b1b\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.check())\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"开始验证\")]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_button, {\n    class: \"b2b\",\n    onClick: $options.add\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"添加\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n    class: \"b3b\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.del())\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"删除\")]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAI;gEA8BbC,oBAEM;EAFDD,KAAK,EAAC;AAAI,iBACbC,oBAAW,WAAR,MAAI;;EAEJD,KAAK,EAAC;AAAI;gEAGfC,oBAEM;EAFDD,KAAK,EAAC;AAAI,iBACbC,oBAAW,WAAR,MAAI;;EAEJD,KAAK,EAAC;AAAK;;;;;uBAvClBE,oBA8CM,OA9CNC,UA8CM,GA7CJC,aA2BWC;IA3BDL,KAAK,EAAC,GAAG;IACR,WAAS,EAAE;MAAAM;IAAA,CAAe;IAAE,YAAU,EAAC,KAAK;IAACC,KAAuB,EAAvB;MAAA;IAAA,CAAuB;IACpEC,IAAI,EAAEC,eAAS;IAChBC,MAAM,EAAN,EAAM;IACNC,GAAG,EAAH,EAAG;IACH,uBAAqB,EAArB,EAAqB;IACrBL,MAAM,EAAC,KAAK;IACXM,WAAU,EAAEC;;sBAErB,MAIkB,CAJlBT,aAIkBU;MAHdC,QAAQ,EAAC,IAAI;MACbC,KAAK,EAAC,IAAI;MACVC,KAAK,EAAC;QAGVb,aAIkBU;MAHdC,QAAQ,EAAC,GAAG;MACZC,KAAK,EAAC,IAAI;MACVC,KAAK,EAAC;QAGVb,aAIkBU;MAHdC,QAAQ,EAAC,OAAO;MAChBC,KAAK,EAAC,IAAI;MACVC,KAAK,EAAC;;;8CAKZC,UAEM,EACNjB,oBAEM,OAFNkB,UAEM,mBADJlB,oBAAyD;+DAAtCQ,WAAK;IAAEW,IAAI,EAAC,KAAK;IAACC,IAAI,EAAC;iDAAvBZ,WAAK,OAE1Ba,UAEM,EACNrB,oBAEM,OAFNsB,UAEM,mBADJtB,oBAAuD;+DAApCQ,SAAG;IAAEW,IAAI,EAAC,KAAK;IAACC,IAAI,EAAC;iDAArBZ,SAAG,OAGxBL,aAAwDoB;IAA7CxB,KAAK,EAAC,KAAK;IAAEyB,OAAK,sCAAEZ,cAAK;;sBAAI,MAAI,kBAAJ,MAAI;;MAC5CT,aAAkDoB;IAAvCxB,KAAK,EAAC,KAAK;IAAEyB,OAAK,EAAEZ;;sBAAK,MAAE,kBAAF,IAAE;;kCACtCT,aAAoDoB;IAAzCxB,KAAK,EAAC,KAAK;IAAEyB,OAAK,sCAAEZ,YAAG;;sBAAI,MAAE,kBAAF,IAAE","names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_el_table","height","style","data","$data","border","fit","onCellClick","$options","_component_el_table_column","property","label","width","_hoisted_2","_hoisted_3","cols","rows","_hoisted_4","_hoisted_5","_component_el_button","onClick"],"sourceRoot":"","sources":["C:\\Users\\DELL\\Desktop\\desver\\TA-frontend\\src\\views\\Checkproperties.vue"],"sourcesContent":["<template>\r\n  <div class=\"tt\">\r\n    <el-table class=\"t\"\r\n              :row-style=\"{height:'40px'}\" max-height=\"250\" style=\"font-size: 15px\"\r\n              :data=\"tableData\"\r\n              border\r\n              fit\r\n              highlight-current-row\r\n              height=\"240\"\r\n              @cell-click=\"chooseItem\"\r\n    >\r\n      <el-table-column\r\n          property=\"Id\"\r\n          label=\"序号\"\r\n          width=\"60\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          property=\"p\"\r\n          label=\"性质\"\r\n          width=\"890\">\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n          property=\"state\"\r\n          label=\"状态\"\r\n          width=\"60\">\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n\r\n    <div class=\"n1\">\r\n      <p>性质撰写</p>\r\n    </div>\r\n    <div class=\"in\">\r\n      <textarea v-model=\"brand\" cols=\"140\" rows=\"7\"></textarea>\r\n    </div>\r\n    <div class=\"n2\">\r\n      <p>验证结果</p>\r\n    </div>\r\n    <div class=\"res\">\r\n      <textarea v-model=\"res\" cols=\"140\" rows=\"8\"></textarea>\r\n    </div>\r\n\r\n    <el-button class=\"b1b\" @click=\"check()\">开始验证</el-button>\r\n    <el-button class=\"b2b\" @click=\"add\">添加</el-button>\r\n    <el-button class=\"b3b\" @click=\"del()\">删除</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: 'ExcelTransferTable',\r\n  components: { },\r\n\r\n  data() {\r\n    return {\r\n      tableData: [\r\n\r\n      ], // 表格里面的数据\r\n      Id: '',\r\n      brand:\"\",\r\n      res: '',\r\n      num:'',\r\n      proname: this.$route.query.projectname,\r\n      desversion: this.$route.query.designversion,\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getresult()\r\n  },\r\n\r\n  methods: {\r\n\r\n    getresult() {\r\n      var _this = this;\r\n      console.log(_this.desversion);\r\n      console.log(_this.proname);\r\n\r\n      axios.get('http://localhost:8085/sscm/getres',{\r\n        params: {\r\n          pname: _this.proname,\r\n          dname: _this.desversion\r\n        }\r\n      }).then(function (response) {\r\n        console.log(response);\r\n        console.log(response.data);\r\n\r\n        let tres = response.data;\r\n        _this.res = \"状态空间为：\"+tres[\"statespace\"];\r\n\r\n        for(var k in tres){\r\n          if(k == \"statespace\"){\r\n            continue;\r\n          }\r\n          else{\r\n            let str = \"\";\r\n            if(tres[k] == \"Yes\"){\r\n              str = \"true\";\r\n            }\r\n            else{\r\n              str = \"false\";\r\n            }\r\n            let obj = {\r\n              Id: _this.tableData.length+1,\r\n              p: k,\r\n              state: str,\r\n            };\r\n            _this.tableData.push(obj);\r\n          }\r\n        }\r\n\r\n      }, function (err) {\r\n        console.log(err)\r\n      });\r\n\r\n\r\n    },\r\n\r\n    computeState(){\r\n      axios.post('http://localhost:8085/sscm/Statenum').then(response => {\r\n        console.log(response.data);\r\n        this.res = response.data;\r\n        console.log(\"num:\"+response.data);\r\n      }, function (err) {\r\n        console.log(err)\r\n      });\r\n    },\r\n\r\n    check(){\r\n      if (!this.Id) return this.$message.warning('请先选择一条性质进行验证')\r\n      this.tableData.forEach(item =>{\r\n        if(item.Id == this.Id){\r\n          let param = {\"data\": item.p};\r\n          axios.post('http://localhost:8085/sscm/Check', item.p).then(response => {\r\n            console.log(response.data);\r\n            if(response.data == \"yes\"){\r\n              this.computeState();\r\n              item.state = \"true\";\r\n              //this.res = \"满足该性质，状态空间为：1024\"\r\n            }\r\n            else{\r\n              item.state = \"false\";\r\n              this.res = \"不满足该性质\";\r\n            }\r\n          }, function (err) {\r\n            console.log(err)\r\n          });\r\n\r\n        }\r\n      })\r\n    },\r\n\r\n    del() {\r\n      // 判断有没有选中一行数据\r\n      if (!this.Id) return this.$message.warning('请先选择一条性质进行移除')\r\n      this.$confirm('您确定要删除当前选择的性质吗?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        //定义一个新的数组\r\n        const tempArr = []\r\n        //遍历table表的数组，如果遍历到的table中的id不等于选中的那一行id，那么将数\r\n        //据push到新的数组里面，也就是说，新的数组里面没有选中的那一行的值\r\n        this.tableData.forEach(item => {\r\n          if (item.Id < this.Id) {\r\n            tempArr.push(item)\r\n          }\r\n          else if(item.Id > this.Id){\r\n            item.Id--;\r\n            tempArr.push(item)\r\n          }\r\n          else{\r\n\r\n          }\r\n        })\r\n//将新的数组赋值给table表数组，此时选中那一行删除成功\r\n        this.tableData = tempArr\r\n//将选中的一行id置空。\r\n        this.Id = ''\r\n      })\r\n    },\r\n//row是选中这一行的全部数据，如果table的数组是从后端请求回来的，可以将id替换成每一行唯一的那个标志，比如序号等等。\r\n    chooseItem(row) {\r\n      this.Id = row.Id;\r\n      console.log(this.Id);\r\n    },\r\n    add() {\r\n      console.log(this.brand);\r\n      if (this.brand != \"\") {  //如果输入的值不为空\r\n        let obj = {\r\n          Id:this.tableData.length+1,\r\n          p: this.brand,\r\n          state:\"\",\r\n        };\r\n        this.tableData.push(obj);\r\n        let param = {\"data\": this.brand};\r\n        axios.post('http://localhost:8085/sscm/addquery', param).then(function(response) {\r\n          console.log(response.data)\r\n        }, function(err){\r\n          console.log(err)\r\n        });\r\n\r\n        this.brand = \"\";\r\n      } else {\r\n        let obj = {\r\n          Id:this.tableData.length+1,\r\n          p: \"\",\r\n          state:\"\",\r\n        };\r\n        this.tableData.push(obj);\r\n      }\r\n\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tt{\r\n  position: absolute;\r\n  top: 50px;\r\n}\r\n\r\n.t{\r\n  height: 250px;\r\n}\r\n\r\n.in{\r\n  position: absolute;\r\n  top: 280px;\r\n  width: 100px;\r\n}\r\n\r\n.res{\r\n  position: absolute;\r\n  top: 420px;\r\n  width: 100px;\r\n}\r\n\r\n.n1{\r\n  position: absolute;\r\n  top: 240px;\r\n}\r\n\r\n.n2{\r\n  position: absolute;\r\n  top: 380px;\r\n}\r\n\r\n.b1b{\r\n  position: absolute;\r\n  left: 1050px;\r\n  top: 50px;\r\n  width: 100px;\r\n}\r\n\r\n.b2b{\r\n  position: absolute;\r\n  left: 1040px;\r\n  top: 100px;\r\n  width: 100px;\r\n}\r\n.b3b{\r\n  position: absolute;\r\n  left: 1040px;\r\n  top: 150px;\r\n  width: 100px;\r\n}\r\n\r\n.el-table td {\r\n  border-bottom: none;\r\n}\r\n.tableStyle::before{\r\n  width: 0;\r\n}\r\n.el-table{\r\n  border: 1px solid #ccc;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}