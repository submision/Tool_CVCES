{"ast":null,"code":"import { RectResize } from \"@logicflow/extension\";\nimport { h } from '@logicflow/core';\n// 提供节点\nclass CustomState2Node extends RectResize.view {\n  getLabelShape() {\n    const {\n      model\n    } = this.props;\n    const {\n      x,\n      y,\n      width,\n      height\n    } = model;\n    const style = model.getNodeStyle();\n    return h(\"svg\", {\n      x: x - width / 2 - 10,\n      y: y - height / 2 - 10,\n      width: 50,\n      height: 50,\n      viewBox: \"0 0 100 100\"\n    }, h(\"g\", {\n      transform: 'translate(25,25)'\n    }, [h(\"path\", {\n      stroke: 'rgba(50,50,50,1)',\n      strokeWidth: 2,\n      fill: '#97b6cf',\n      fillOpacity: 1,\n      d: \"M0 35C0 -11.666666666666666 70 -11.666666666666666 70 35C70 81.66666666666667 0 81.66666666666667 0 35Z\"\n    }), h(\"g\", {}, [h(\"text\", {\n      fontFamily: '微软雅黑',\n      textAnchor: 'middle',\n      fontSize: '13px',\n      width: '50px',\n      fill: '#323232',\n      fontWeight: '400',\n      align: 'middle',\n      lineHeight: '125%',\n      fontStyle: '',\n      opacity: 1,\n      y: '24.375',\n      transform: 'rotate(0)'\n    })])]), h(\"g\", {\n      transform: 'translate(35,36.5)'\n    }, [h(\"path\", {\n      stroke: 'rgba(50,50,50,1)',\n      strokeWidth: 2,\n      fill: '#97b6cf',\n      fillOpacity: 1,\n      d: \"M0 23.5C0 -7.833333333333333 50 -7.833333333333333 50 23.5C50 54.833333333333336 0 54.833333333333336 0 23.5Z\"\n    }), h(\"g\", {}, [h(\"text\", {\n      fontFamily: '微软雅黑',\n      textAnchor: 'middle',\n      fontSize: '13px',\n      width: '30px',\n      fill: '#323232',\n      fontWeight: '400',\n      align: 'middle',\n      lineHeight: '125%',\n      fontStyle: '',\n      opacity: 1,\n      y: '12.875',\n      transform: 'rotate(0)'\n    })])]));\n  }\n  /**\n   * 完全自定义节点外观方法\n   */\n  getShape() {\n    const {\n      model,\n      graphModel\n    } = this.props;\n    const {\n      x,\n      y,\n      width,\n      height,\n      radius\n    } = model;\n    const style = model.getNodeStyle();\n    return h(\"g\", {}, [this.getLabelShape()]);\n  }\n}\n\n// 提供节点的属性\nclass CustomState2Model extends RectResize.model {\n  initNodeData(data) {\n    super.initNodeData(data);\n    /**\n     * 实际就是对于图形SVG的属性\n     * http://logic-flow.org/guide/basic/node.html#%E8%AE%A4%E8%AF%86logicflow%E7%9A%84%E5%9F%BA%E7%A1%80%E8%8A%82%E7%82%B9\n     */\n    this.width = 40;\n    this.height = 40;\n    this.text.draggable = true; // 允许文本被拖动\n    this.text.editable = true; // 允许文本被编辑\n  }\n\n  getTextStyle() {\n    const style = super.getTextStyle();\n    style.fontSize = 16;\n    style.color = 'purple';\n    return style;\n  }\n  getNodeStyle() {\n    const style = super.getNodeStyle();\n    style.stroke = 'black';\n    // style.strokeDasharray = '3 3';\n    return style;\n  }\n}\nexport default {\n  type: \"bpmn:customState2\",\n  view: CustomState2Node,\n  model: CustomState2Model\n};","map":{"version":3,"names":["RectResize","h","CustomState2Node","view","getLabelShape","model","props","x","y","width","height","style","getNodeStyle","viewBox","transform","stroke","strokeWidth","fill","fillOpacity","d","fontFamily","textAnchor","fontSize","fontWeight","align","lineHeight","fontStyle","opacity","getShape","graphModel","radius","CustomState2Model","initNodeData","data","text","draggable","editable","getTextStyle","color","type"],"sources":["/Users/kunr/Documents/ECNU/Project-29/Tools-29/tools-29-design/TA-frontend/src/registerNode/CustomState2.js"],"sourcesContent":["import {RectResize} from \"@logicflow/extension\";\nimport { h } from '@logicflow/core';\n// 提供节点\nclass CustomState2Node extends RectResize.view { \n  getLabelShape() {\n    const { model } = this.props;\n    const { x, y, width, height } = model;\n    const style = model.getNodeStyle();\n    return h(\n      \"svg\",\n      {\n        x: x - width / 2 -10,\n        y: y - height / 2 -10,\n        width: 50,\n        height: 50,\n        viewBox: \"0 0 100 100\"\n      },\n      h(\"g\",{\n        transform: 'translate(25,25)',\n      },[\n        h(\"path\",{        \n        stroke:'rgba(50,50,50,1)',\n        strokeWidth: 2,\n        fill: '#97b6cf',\n        fillOpacity: 1,\n        d:\n          \"M0 35C0 -11.666666666666666 70 -11.666666666666666 70 35C70 81.66666666666667 0 81.66666666666667 0 35Z\"\n      }),\n      h(\"g\",{},[\n        h(\"text\",{\n          fontFamily:'微软雅黑',\n          textAnchor: 'middle',\n          fontSize: '13px',\n          width:'50px',\n          fill:'#323232',\n          fontWeight: '400',\n          align: 'middle',\n          lineHeight: '125%',\n          fontStyle: '',\n          opacity: 1,\n          y: '24.375',\n          transform: 'rotate(0)',\n        }),\n      ]),\n      ]),\n      h(\"g\",{\n        transform: 'translate(35,36.5)',\n      },[\n        h(\"path\",{\n        stroke:'rgba(50,50,50,1)',\n        strokeWidth: 2,\n        fill: '#97b6cf',\n        fillOpacity: 1,\n        d:\n          \"M0 23.5C0 -7.833333333333333 50 -7.833333333333333 50 23.5C50 54.833333333333336 0 54.833333333333336 0 23.5Z\"\n\n        }),\n        h(\"g\",{},[\n          h(\"text\",{\n            fontFamily:'微软雅黑',\n            textAnchor: 'middle',\n            fontSize: '13px',\n            width:'30px',\n            fill:'#323232',\n            fontWeight: '400',\n            align: 'middle',\n            lineHeight: '125%',\n            fontStyle: '',\n            opacity: 1,\n            y: '12.875',\n            transform: 'rotate(0)',\n          }),\n        ]),\n      ]),\n    );\n  }\n  /**\n   * 完全自定义节点外观方法\n   */\n  getShape() {\n    const { model, graphModel } = this.props;\n    const { x, y, width, height, radius } = model;\n    const style = model.getNodeStyle();\n    return h(\"g\", {}, [\n      this.getLabelShape()\n    ]);\n  }\n}\n\n// 提供节点的属性\nclass CustomState2Model extends RectResize.model {\n  initNodeData(data) {\n    super.initNodeData(data);\n    /**\n     * 实际就是对于图形SVG的属性\n     * http://logic-flow.org/guide/basic/node.html#%E8%AE%A4%E8%AF%86logicflow%E7%9A%84%E5%9F%BA%E7%A1%80%E8%8A%82%E7%82%B9\n     */\n    this.width = 40;\n    this.height = 40;\n    this.text.draggable = true; // 允许文本被拖动\n    this.text.editable = true; // 允许文本被编辑\n    \n  }\n\n  getTextStyle() {\n    const style = super.getTextStyle();\n    style.fontSize = 16;\n    style.color = 'purple';\n    return style;\n  }\n\n  getNodeStyle() {\n    const style = super.getNodeStyle();\n    style.stroke = 'black';\n    // style.strokeDasharray = '3 3';\n    return style;\n  }\n\n}\n\n\nexport default {\n  type: \"bpmn:customState2\",\n  view: CustomState2Node,\n  model: CustomState2Model\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}